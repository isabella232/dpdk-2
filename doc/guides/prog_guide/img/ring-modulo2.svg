<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg2" width="576.078" height="152.683" version="1.1"><defs id="defs4"><marker id="Arrow1Mend" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3602" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.4,0,0,-0.4,-4,0)" style="fill-rule:evenodd;stroke:#000;stroke-width:1pt;marker-start:none"/></marker><marker id="Arrow1Sstart" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3605" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(0.2,0,0,0.2,1.2,0)" style="fill-rule:evenodd;stroke:#000;stroke-width:1pt;marker-start:none"/></marker><marker id="Arrow1Mstart" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3599" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(0.4,0,0,0.4,4,0)" style="fill-rule:evenodd;stroke:#000;stroke-width:1pt;marker-start:none"/></marker><marker id="Arrow1Lstart" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3593" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(0.8,0,0,0.8,10,0)" style="fill-rule:evenodd;stroke:#000;stroke-width:1pt;marker-start:none"/></marker><marker id="Arrow2Lend" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path3614" d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round"/></marker></defs><metadata id="metadata7"/><g id="layer1" transform="translate(-78.921385,-378.7493)"><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#Arrow2Lend)" id="path2816" d="m 98.571429,407.3798 c 555.000001,0 555.000001,0 555.000001,0"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038" d="m 113.57143,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-4" d="m 162.61904,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-8" d="m 211.66667,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-5" d="m 260.71427,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-3" d="m 309.76191,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-1" d="m 358.80952,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-32" d="m 407.85712,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-32-0" d="m 456.90477,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-32-1" d="m 505.95238,401.6479 0,11.42857"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" id="path4038-32-5" d="m 555,401.6479 0,11.42857"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147" width="47.099" height="14.774" x="113.516" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-4" width="47.099" height="14.774" x="162.816" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-6" width="47.099" height="14.774" x="212.116" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-69" width="47.099" height="14.774" x="261.416" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-7" width="47.099" height="14.774" x="310.716" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-5" width="47.099" height="14.774" x="360.017" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-54" width="47.099" height="14.774" x="409.317" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-43" width="47.099" height="14.774" x="458.617" y="424.237" rx="4.71" ry="4.302"/><rect style="fill:#ffae0a;fill-opacity:1;stroke:#000;stroke-width:1.14199996;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" id="rect4147-78" width="47.099" height="14.774" x="507.917" y="424.237" rx="4.71" ry="4.302"/><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234" x="110.107" y="397.888" xml:space="preserve"><tspan id="tspan4236" x="110.107" y="397.888">0</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-6" x="146.47" y="397.888" xml:space="preserve"><tspan id="tspan4236-8" x="146.47" y="397.888">16384</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-4" x="196.068" y="397.888" xml:space="preserve"><tspan id="tspan4236-3" x="196.068" y="397.888">32768</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-49" x="245.732" y="397.888" xml:space="preserve"><tspan id="tspan4236-2" x="245.732" y="397.888">49152</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-68" x="294.811" y="397.888" xml:space="preserve"><tspan id="tspan4236-9" x="294.811" y="397.888">65536</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-66" x="306.938" y="386.271" xml:space="preserve"><tspan id="tspan4236-4" x="306.938" y="386.271">0</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-2" x="503.413" y="386.271" xml:space="preserve"><tspan id="tspan4236-72" x="503.413" y="386.271">0</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-6-1" x="343.945" y="397.888" xml:space="preserve"><tspan id="tspan4236-8-5" x="343.945" y="397.888">16384</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-6-4" x="541.42" y="397.888" xml:space="preserve"><tspan id="tspan4236-8-9" x="541.42" y="397.888">16384</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-4-0" x="393.543" y="397.888" xml:space="preserve"><tspan id="tspan4236-3-9" x="393.543" y="397.888">32768</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-49-1" x="443.208" y="397.888" xml:space="preserve"><tspan id="tspan4236-2-7" x="443.208" y="397.888">49152</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4234-68-7" x="492.286" y="397.888" xml:space="preserve"><tspan id="tspan4236-9-1" x="492.286" y="397.888">65536</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text4476" x="125.764" y="434.654" xml:space="preserve"><tspan id="tspan4478" x="125.764" y="434.654">ring</tspan></text><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#Arrow1Mstart)" id="path4480" d="m 291.64075,441.72497 0,21.21321"/><path style="fill:none;stroke:#000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#Arrow1Mstart)" id="path4480-1" d="m 328.76387,441.72497 0,21.21321"/><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5070" x="284.57" y="473.504" xml:space="preserve"><tspan id="tspan5072" x="284.57" y="473.504">ch</tspan><tspan id="tspan5074" x="284.57" y="486.004">ct</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5076" x="323.188" y="472.535" xml:space="preserve"><tspan id="tspan5078" x="323.188" y="472.535">ph</tspan><tspan id="tspan5080" x="323.188" y="485.035">pt</tspan></text><rect style="fill:#5a750a;fill-opacity:1;stroke:none" id="rect5082" width="10.86" height="13.551" x="291.423" y="424.938"/><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5084" x="582.858" y="421.522" xml:space="preserve"><tspan id="tspan5086" x="582.858" y="421.522">value for</tspan><tspan id="tspan5088" x="582.858" y="434.022">indexes</tspan><tspan id="tspan5090" x="582.858" y="446.522">(prod_head,</tspan><tspan id="tspan5092" x="582.858" y="459.022">prod_tail, ...)</tspan></text><rect style="fill:#5a750a;fill-opacity:1;stroke:none" id="rect5082-5" width="24.953" height="13.551" x="404.717" y="492.8"/><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5116" x="434.366" y="502.334" xml:space="preserve"><tspan id="tspan5293" x="434.366" y="502.334">used entries in ring</tspan></text><text style="font-size:10px;font-style:normal;font-weight:400;fill:#000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5261" x="78.792" y="466.474" xml:space="preserve"><tspan id="tspan5263" x="78.792" y="466.474">size = 16384</tspan><tspan id="tspan5291" x="78.792" y="478.974">mask = 16383</tspan><tspan id="tspan5289" x="78.792" y="491.474">ph = pt = 6000</tspan><tspan id="tspan5265" x="78.792" y="503.974">ct = ch = 59000</tspan><tspan id="tspan5267" x="78.792" y="516.474">used_entries = (pt - ch) % 65536 = 12536</tspan><tspan id="tspan5287" x="78.792" y="528.974">free_entries = (mask + ct - ph) % 65536 = 3847</tspan></text><rect style="fill:#5a750a;fill-opacity:1;stroke:none" id="rect5082-7" width="15.609" height="13.551" x="310.984" y="424.938" rx="2.502" ry="4"/><rect style="fill:#5a750a;fill-opacity:1;stroke:none" id="rect5082-3" width="14.649" height="13.551" x="293.273" y="424.938" rx="2.256" ry="2.2"/><rect style="fill:#5a750a;fill-opacity:1;stroke:none" id="rect5082-56" width="13.128" height="13.551" x="315.936" y="424.938"/><path style="fill:#5a750a;fill-opacity:1;stroke:#fd0004;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#Arrow1Mstart);marker-end:url(#Arrow1Mend)" id="path5384" d="m 294.64286,452.71932 31.78571,0"/><text style="font-size:4.97793007px;font-style:normal;font-weight:400;fill:red;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans" id="text5962" x="294.355" y="460.332" xml:space="preserve"><tspan id="tspan5964" x="294.355" y="460.332">used_entries</tspan></text></g></svg>